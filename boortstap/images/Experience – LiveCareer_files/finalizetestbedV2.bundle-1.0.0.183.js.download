(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{770:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(27),a=n(29),s=n(4);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,d(o.key),o)}}function u(e,t,n){return t=f(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(null,arguments)}var h=r.a.forwardRef((function(e,t){return r.a.createElement(a.h,b({},e,{referenceObject:t}))})),y=function(e){function t(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(o=u(this,t,[e,n]),"pushSkinToGlobalObject",(function(e){var t=RDL.Skins.find((function(t){return t.skinCD==e})),n=RDL.getTemplateFromSkin(e),o=Array.from(n.querySelectorAll("container")).length>0;!t&&RDL.Skins.unshift({id:e,skinCD:e,name:"Moderno 5",skinTypeCd:"GEN ",minIndent:0,maxIndent:100,blobURL:"images/desktop/common/svg-skin/mll1.svg",sortIndex:1,mSortIndex:3,htmlURL:"/html/MLL1.htm",imageURL:"/images/desktop/common/svg-skin/MLL1.svg",description:"",isActive:!0,isMultiColumn:o,isPhotoSkin:!0})})),m(o,"txtOnChangeSkinTestbed",(function(e){o.setState({inputSkinCd:e.target.value?e.target.value.trim().toUpperCase():e.target.value})})),m(o,"changeSkinTestBedKeyPress",(function(e){13==(e.which||e.keyCode)&&(e.preventDefault(),e.stopPropagation(),o.setSelectedSkinInput(e))})),m(o,"checkBlob",(function(){if(o.state.inputSkinCd){var e=o,t=o.state.inputSkinCd+".htm",n=RDL.Portal.blobRepoTest+"".concat(t);return RDL.callAjaxTestBed(n,"GET",!1,!1,(function(t){404==t.status?(e.setState({invalidSkinName:"Invalid skin name . Blob does not exists"}),console.log("blob does not exists"),e.checkIfBlobExists=!1):(e.setState({invalidSkinName:""}),console.log("blob exists"),e.checkIfBlobExists=!0)}))}})),m(o,"setSelectedSkinInput",(function(){o.checkBlob();var e=o.state.inputSkinCd;if(o.checkIfBlobExists&&e){o.pushSkinToGlobalObject(e);var t={currentTarget:{},stopPropagation:function(){return!0}};t.currentTarget.getAttribute=function(){return e},o.finalizeComp.getWrappedInstance().setSelectedTemplate(t)}})),m(o,"movetoChooseTemplate",(function(){sessionStorage.removeItem("isCalledFromFinalize"),o.props.history.push(s.c.CHOOSE_TEMPLATE)})),m(o,"onChangeFile",(function(e){var t=o,n=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){var n=e.name;if("htm"==n.substr(n.lastIndexOf(".")+1)&&8==n.length)return function(e){var o=e.target.result,r=(new DOMParser).parseFromString(o,"text/html");RDL.files[n]=r;var i=n.slice(0,4);t.pushSkinToGlobalObject(i);var a={currentTarget:{},stopPropagation:function(){return!0}};a.currentTarget.getAttribute=function(){return i},t.finalizeComp.getWrappedInstance().setSelectedTemplate(a),t.setState({invalidUploadedSkinName:"",inputSkinCd:i})};t.setState({invalidUploadedSkinName:"file is not htm file or code is not valid"})}(n),r.readAsText(n)})),o.state={inputSkinCd:""},o.props.documentSkin&&o.pushSkinToGlobalObject(o.props.Document.skinCD),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"form-inline header-TB",style:{color:"#fff",padding:"10px"}},r.a.createElement("label",{className:"dropdown-label-TB"},"Enter Skin Code:"),r.a.createElement("input",{type:"text",className:"form-control form-control-sm ml-3",name:"resumeSearch",value:this.state.inputSkinCd,onChange:this.txtOnChangeSkinTestbed,onKeyPress:this.changeSkinTestBedKeyPress}),r.a.createElement("button",{type:"button",className:"btn-icon btn-icon-secondary btn-icon-sm fs-16 mr-4",onClick:this.setSelectedSkinInput},r.a.createElement("i",{className:"fa fa-check"})),r.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:this.movetoChooseTemplate,type:"button",style:{"margin-left":"100px"}}," Move to Choose Template "),r.a.createElement("input",{type:"file",id:"myFile",className:"form-control-edit",onChange:this.onChangeFile,style:{border:"1px dashed #fff",padding:"5px",height:"4rem","margin-left":"100px"}}),""!=this.state.invalidUploadedSkinName&&r.a.createElement("span",{className:"invalid-feedback1",style:{right:"0px",top:"300px",color:"red"}},this.state.invalidUploadedSkinName)),r.a.createElement(h,{ref:function(t){return e.finalizeComp=t},history:this.props.history}))}}])&&c(n.prototype,o),i&&c(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(o.Component);t.default=Object(i.b)((function(e){var t=e.Document.skinCD;return{Document:e.Document,User:e.User,Common:e.Common,documentSkin:t}}),null)(y)}}]);